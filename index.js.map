{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = \"https://pixabay.com/api/\";\nexport const API_KEY = \"46029261-5480acfc9fcdffed316bd43c0\";","export default function createGalleryMarkup(gallery) {\n    return gallery\n        .map(photo => {\n            return `<li class=\"li-gallery\">\n            <div class=\"img-box\">\n                <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n            <img\n            class=\"gallery-image\"\n            src=\"${photo.webformatURL}\"\n            alt=\"${photo.tags}\"\n            title=\"${photo.tags}\"\n            /></a></div>\n        <div class=\"description-box\">\n            <div class=\"param-boxes\"><p class=\"parameters\">Likes</p>\n            <p class=\"values\">${photo.likes}</p></div>\n            <div class=\"param-boxes\"><p class=\"parameters\">Views</p>\n            <p class=\"values\">${photo.views}</p></div>\n            <div class=\"param-boxes\"><p class=\"parameters\">Comments</p>\n            <p class=\"values\">${photo.comments}</p></div>\n            <div class=\"param-boxes\"><p class=\"parameters\">Downloads</p>\n            <p class=\"values\">${photo.downloads}</p></div>\n        </div>\n        </li>`;\n    })\n    .join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { BASE_URL, API_KEY } from \"./js/pixabay-api\";\n\nimport createGalleryMarkup from './js/render-functions.js';\n\nconst form = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.getElementById('loader');\n\nconst showBox = new SimpleLightbox('.img-box a', {\n        captions: true,\n        captionsData: 'alt',\n        captionsDelay: 250,\n        overlayOpacity: 0.7,\n        className: 'lightbox',\n    });\n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n\n    const {\n        searchValue: { value: query },\n    } = form.elements;\n    \n    const trimmedQuery = query.trim();\n\n    if (trimmedQuery === '') {\n        iziToast.show({\n            message: 'Please fill search input',\n            position: 'topCenter',\n            color: 'yellow',\n        });\n        return;\n    }\n\n    const options = {\n        key: API_KEY,\n        q: trimmedQuery,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    };\n    const params = new URLSearchParams(options);\n\n    gallery.innerHTML = '';\n    loader.classList.remove('hidden');\n\n\n    fetch(`${BASE_URL}?key=${API_KEY}&${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Something went wrong');\n            }\n            return response.json();\n        })\n        .then(photos => {\n            if (!photos.hits || photos.hits.length === 0) {\n                iziToast.show({\n                    message: `'Sorry, there are no images matching your search query. Please try again!'`,\n                    position: 'topCenter',\n                    color: 'red',\n                });\n                return;\n            }\n            gallery.insertAdjacentHTML('beforeend', createGalleryMarkup(photos.hits));\n            showBox.refresh();\n        })\n        .catch(error => {\n            console.log(error);\n        })\n        .finally(() => {\n            loader.classList.add('hidden');;\n        });\n}"],"names":["BASE_URL","API_KEY","createGalleryMarkup","gallery","photo","form","loader","showBox","SimpleLightbox","onSubmit","event","query","trimmedQuery","iziToast","options","params","response","photos","error"],"mappings":"iyBAAO,MAAMA,EAAW,2BACXC,EAAU,qCCDR,SAASC,EAAoBC,EAAS,CACjD,OAAOA,EACF,IAAIC,GACM;AAAA;AAAA,gDAE6BA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAGhDA,EAAM,YAAY;AAAA,mBAClBA,EAAM,IAAI;AAAA,qBACRA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,gCAICA,EAAM,KAAK;AAAA;AAAA,gCAEXA,EAAM,KAAK;AAAA;AAAA,gCAEXA,EAAM,QAAQ;AAAA;AAAA,gCAEdA,EAAM,SAAS;AAAA;AAAA,cAG1C,EACA,KAAK,EAAE,CACZ,CCfA,MAAMC,EAAO,SAAS,cAAc,iBAAiB,EAC/CF,EAAU,SAAS,cAAc,UAAU,EAC3CG,EAAS,SAAS,eAAe,QAAQ,EAEzCC,EAAU,IAAIC,EAAe,aAAc,CACzC,SAAU,GACV,aAAc,MACd,cAAe,IACf,eAAgB,GAChB,UAAW,UACnB,CAAK,EAELH,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAML,EAAOK,EAAM,cAEb,CACF,YAAa,CAAE,MAAOC,CAAO,CACrC,EAAQN,EAAK,SAEHO,EAAeD,EAAM,OAE3B,GAAIC,IAAiB,GAAI,CACrBC,EAAS,KAAK,CACV,QAAS,2BACT,SAAU,YACV,MAAO,QACnB,CAAS,EACD,MACH,CAED,MAAMC,EAAU,CACZ,IAAKb,EACL,EAAGW,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,EACUG,EAAS,IAAI,gBAAgBD,CAAO,EAE1CX,EAAQ,UAAY,GACpBG,EAAO,UAAU,OAAO,QAAQ,EAGhC,MAAM,GAAGN,CAAQ,QAAQC,CAAO,IAAIc,CAAM,EAAE,EACvC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,sBAAsB,EAE1C,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAU,CACZ,GAAI,CAACA,EAAO,MAAQA,EAAO,KAAK,SAAW,EAAG,CAC1CJ,EAAS,KAAK,CACV,QAAS,6EACT,SAAU,YACV,MAAO,KAC3B,CAAiB,EACD,MACH,CACDV,EAAQ,mBAAmB,YAAaD,EAAoBe,EAAO,IAAI,CAAC,EACxEV,EAAQ,QAAO,CAC3B,CAAS,EACA,MAAMW,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EACA,QAAQ,IAAM,CACXZ,EAAO,UAAU,IAAI,QAAQ,CAChC,CAAA,CACT"}