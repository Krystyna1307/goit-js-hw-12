{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/js/news-service.js","../src/main.js"],"sourcesContent":["export const BASE_URL = \"https://pixabay.com/api/\";\nexport const API_KEY = \"46029261-5480acfc9fcdffed316bd43c0\";\nexport const PER_PAGE = 15;","export const refs = {\n    form: document.querySelector('.js-search-form'),\n    container: document.querySelector('.js-cards-container'),\n    loadMoreBtn: document.querySelector('.js-load-more'),\n    loader: document.querySelector('.js-loader'),\n};","export default function createGalleryMarkup(hits, wrapper) {\n    const hitsMarkup = hits\n        .map(hit => `<li class=\"li-gallery\">\n            <div class=\"img-box\">\n                <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n            <img\n            class=\"gallery-image\"\n            src=\"${hit.webformatURL}\"\n            alt=\"${hit.tags}\"\n            title=\"${hit.tags}\"\n            /></a></div>\n        <div class=\"description-box\">\n            <div class=\"param-boxes\"><p class=\"parameters\">Likes</p>\n            <p class=\"values\">${hit.likes}</p></div>\n            <div class=\"param-boxes\"><p class=\"parameters\">Views</p>\n            <p class=\"values\">${hit.views}</p></div>\n            <div class=\"param-boxes\"><p class=\"parameters\">Comments</p>\n            <p class=\"values\">${hit.comments}</p></div>\n            <div class=\"param-boxes\"><p class=\"parameters\">Downloads</p>\n            <p class=\"values\">${hit.downloads}</p></div>\n        </div>\n        </li>`\n    )\n        .join('');\n    wrapper.insertAdjacentHTML('beforeend', hitsMarkup);\n}","import axios from \"axios\";\nimport { BASE_URL, API_KEY, PER_PAGE } from \"./pixabay-api\";\nimport { refs } from \"./refs\";\nimport createGalleryMarkup from \"./render-functions.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport async function fetchNews(searchQuery, currentPage = 1) {\n    const options = new URLSearchParams({\n        q: searchQuery,\n        key: API_KEY,\n        per_page: PER_PAGE,\n        page: currentPage,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n\n    const url = `${BASE_URL}?${options}`;\n\n    // const data = await axios.get(url);\n    \n    // console.log(data);\n    try {\n        const { data } = await axios.get(url);\n        const { hits, totalHits } = data;\n        if (!Array.isArray(hits) || hits.length === 0) {\n            iziToast.show({\n                message: `'Sorry, there are no images matching your search query. Please try again!'`,\n                position: 'topCenter',\n                color: 'red',\n            });\n            return;\n        }\n        const showBox = new SimpleLightbox('.img-box a', {\n            captions: true,\n            captionsData: 'alt',\n            captionsDelay: 250,\n            overlayOpacity: 0.7,\n            className: 'lightbox',\n        });\n\n        createGalleryMarkup(hits, refs.container);\n\n        showBox.refresh();\n    } catch (error) {\n        console.log(error);\n    } finally {\n            const loader = document.getElementById('loader');\n            if (loader) {\n            loader.classList.add('hidden');\n            }\n    }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { refs } from \"./js/refs.js\";\nimport { fetchNews } from \"./js/news-service.js\";\n\nrefs.form.addEventListener('submit', handleSubmit)\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const { value: searchQuery } = form.elements.newsKeyword;\n    \n    fetchNews(searchQuery)\n}\n\n\n\n\n// const showBox = new SimpleLightbox('.img-box a', {\n//     captions: true,\n//     captionsData: 'alt',\n//     captionsDelay: 250,\n//     overlayOpacity: 0.7,\n//     className: 'lightbox',\n//     });\n\n// form.addEventListener(\"submit\", onSubmit);\n\n// function onSubmit(event) {\n//     event.preventDefault();\n//     const form = event.currentTarget;\n\n//     const {\n//         searchValue: { value: query },\n//     } = form.elements;\n    \n//     const trimmedQuery = query.trim();\n\n//     if (trimmedQuery === '') {\n//         iziToast.show({\n//             message: 'Please fill search input',\n//             position: 'topCenter',\n//             color: 'yellow',\n//         });\n//         return;\n//     }\n\n//     const options = {\n//         key: API_KEY,\n//         q: trimmedQuery,\n//         image_type: \"photo\",\n//         orientation: \"horizontal\",\n//         safesearch: \"true\",\n//     };\n//     const params = new URLSearchParams(options);\n\n//     gallery.innerHTML = '';\n//     loader.classList.remove('hidden');\n\n\n//     fetch(`${BASE_URL}?key=${API_KEY}&${params}`)\n//         .then(response => {\n//             if (!response.ok) {\n//                 throw new Error('Something went wrong');\n//             }\n//             return response.json();\n//         })\n//         .then(photos => {\n//             if (!photos.hits || photos.hits.length === 0) {\n//                 iziToast.show({\n//                     message: `'Sorry, there are no images matching your search query. Please try again!'`,\n//                     position: 'topCenter',\n//                     color: 'red',\n//                 });\n//                 return;\n//             }\n//             gallery.insertAdjacentHTML('beforeend', createGalleryMarkup(photos.hits));\n//             showBox.refresh();\n//         })\n//         .catch(error => {\n//             console.log(error);\n//         })\n//         .finally(() => {\n//             loader.classList.add('hidden');;\n//         });\n// }"],"names":["BASE_URL","API_KEY","PER_PAGE","refs","createGalleryMarkup","hits","wrapper","hitsMarkup","hit","fetchNews","searchQuery","currentPage","options","url","data","axios","totalHits","showBox","SimpleLightbox","error","loader","handleSubmit","event","form"],"mappings":"6vBAAO,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAW,GCFXC,EAAO,CAChB,KAAM,SAAS,cAAc,iBAAiB,EAC9C,UAAW,SAAS,cAAc,qBAAqB,EACvD,YAAa,SAAS,cAAc,eAAe,EACnD,OAAQ,SAAS,cAAc,YAAY,CAC/C,ECLe,SAASC,EAAoBC,EAAMC,EAAS,CACvD,MAAMC,EAAaF,EACd,IAAIG,GAAO;AAAA;AAAA,gDAE4BA,EAAI,aAAa;AAAA;AAAA;AAAA,mBAG9CA,EAAI,YAAY;AAAA,mBAChBA,EAAI,IAAI;AAAA,qBACNA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,gCAIGA,EAAI,KAAK;AAAA;AAAA,gCAETA,EAAI,KAAK;AAAA;AAAA,gCAETA,EAAI,QAAQ;AAAA;AAAA,gCAEZA,EAAI,SAAS;AAAA;AAAA,cAGxC,EACI,KAAK,EAAE,EACZF,EAAQ,mBAAmB,YAAaC,CAAU,CACtD,CClBO,eAAeE,EAAUC,EAAaC,EAAc,EAAG,CAC1D,MAAMC,EAAU,IAAI,gBAAgB,CAChC,EAAGF,EACH,IAAKT,EACL,SAAUC,EACV,KAAMS,EACN,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEKE,EAAM,GAAGb,CAAQ,IAAIY,CAAO,GAKlC,GAAI,CACA,KAAM,CAAE,KAAAE,CAAI,EAAK,MAAMC,EAAM,IAAIF,CAAG,EAC9B,CAAE,KAAAR,EAAM,UAAAW,CAAW,EAAGF,EAC5B,GAAI,CAAC,MAAM,QAAQT,CAAI,GAAKA,EAAK,SAAW,EAAG,CAC3C,SAAS,KAAK,CACV,QAAS,6EACT,SAAU,YACV,MAAO,KACvB,CAAa,EACD,MACH,CACD,MAAMY,EAAU,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,MACd,cAAe,IACf,eAAgB,GAChB,UAAW,UACvB,CAAS,EAEDd,EAAoBC,EAAMF,EAAK,SAAS,EAExCc,EAAQ,QAAO,CAClB,OAAQE,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACzB,QAAc,CACF,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC3CA,GACJA,EAAO,UAAU,IAAI,QAAQ,CAEpC,CACL,CC7CAjB,EAAK,KAAK,iBAAiB,SAAUkB,CAAY,EAEjD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACb,CAAE,MAAOZ,CAAW,EAAKa,EAAK,SAAS,YAE7Cd,EAAUC,CAAW,CACzB"}